Регулярные выражения
====================

Регулярные выражения являются мощным, гибким и эффективным средством обработки строк.Они позволяют задать шаблон, которому должна соответствовать строка или подстрока. Также благодаря ним пользователю предоставляется возможность работать со строками – заменять необходимые фрагменты строки, вырезать их и т.д..

Работу с регулярными выражениями обеспечивают специальные символы, называемые модификаторами, которые и задают работу шаблона. Все виды модификаторов рассмотрены ниже.

### Якоря

Якоря в регулярных выражениях указывают на начало или конец чего-либо. Например, строки или слова. Они представлены определенными символами:
```
^ -- Начало строки
\A - Начало текста
$ -- Конец строки
\Z - Конец текста
\b - Граница слова
\B - Не граница слова
\< - Начало слова
\> - Конец слова
```

### Символьные классы

Символьные классы в регулярных выражениях соответствуют сразу некоторому набору символов.

```
\c ---- Управляющий символ
\s ---- Пробел
\S ---- Не пробел
\d ---- Цифра
\D ---- Не цифра
\w ---- Слово
\W ---- Не слово
\xhh -- Шестнадцатиричный символ hh
\Oxxx - Восьмиричный символ xxx
```

### Символьные классы POSIX

POSIX — это относительно новое дополнение семейства регулярных выражений. Идея, как и в случае с символьными классами, заключается в использовании сокращений, представляющих некоторую группу символов.

```
[:upper:] -- Буквы в верхнем регистре
[:lower:] -- Буквы в нижнем регистре
[:alpha:] -- Все буквы
[:alnum:] -- Буквы и цифры
[:digit:] -- Цифры
[:xdigit:] - Шестнадцатиричные цифры
[:punct:] -- Пунктуация
[:blank:] -- Пробел и табуляция
[:space:] -- Пустые символы
[:cntrl:] -- Управляющие символы
[:graph:] -- Печатные символы
[:print:] -- Печатные символы и пробелы
[:word:] --- Буквы, цифры, и подчёркивание
```

### Утверждения

Утверждение – это проверка символов, следующих до или после текущего символа. После данных модификаторов идут символы, для которых и выполняются данные указания.

```
?= --- Вперёд смотрящее
?! --- Назад смотрящее
?<= -- Отрицателное вперёд смотрящее
?!= -- Отрицателное назад смотрящее
?> --- Однократное подвыражение
?() -- Условие [если, то]
?()| - Условие [если, то, а иначе]
?# --- Комментарий
```

### Кванторы

Кванторы позволяют определить часть шаблона, которая должна повторяться несколько раз подряд. По умолчанию кванторы — «жадные». Поэтому квантор +, означающий «один или больше раз», будет соответствовать максимально возможному значению. Иногда это вызывает проблемы, и тогда вы можете сказать квантору перестать быть жадным (стать «ленивым»), используя специальный модификатор.

```
* ------ 0 или больше
*? ----- 0 или больше, нежадный
+ ------ 1 или больше
+? ----- 1 или больше, нежадный
? ------ 0 или 1
?? ----- 0 или 1, нежадный
{3} ---- Ровно 3
{3,} --- 3 или больше
{3,5} -- 3, 4 или 5
{3,5}? - 3, 4 или 5, нежадный
```

### Специальные символы

Регулярные выражения используют некоторые символы для обозначения различных частей шаблона. Однако, возникает проблема, если необходимо найти один из таких символов в строке, как обычный символ. Для этого существует знак экранирования, который предшествует мета-символу и заставляет парсер игнорировать его функцию и считать обычным символом. Есть несколько символов, требующих такого экранирования в большинстве шаблонов и языков. Другие специальные символы в регулярных выражениях соответствуют необычным элементам в тексте.

```
\ -------- Экранирующий символ
\n ------- Новая строка
\r ------- Возврат каретки
\t ------- Табуляция
\v ------- Вертикальная табуляция
\f ------- Новая страница
\a ------- Звуковой сигнал
[\b] ----- Возврат на один символ
\e ------- Escape-символ
\N{name} - Именованый символ
```

### Группы и диапазоны

Группы и диапазоны очень-очень полезны. Диапазоны позволяют указать набор подходящих символов (указываются в квадратных скобках). Группы наиболее часто применяются, когда в шаблоне необходимо условие «или», когда нужно сослаться на часть шаблона из другой его части, а также при подстановке строк (указываются в круглых скобках).

```
. ------- Любой символ, кроме переноса строки (\n)
(a|b) --- a или b
(...) --- Группа
(?:...) - Пассивная группа
[abc] --- Диапазон (a или b или c)
[^abc] -- Не a, не b, не c
[a-q] --- Буква между a и q
[A-Q] --- Буква в верхнем регистре между A и Q
[0-7] --- Цифра между 0 или 7
\n ------  n-ая группа/подшаблон
```

### Мета-символы

Это символы, имеющие специальное значение в регулярных выражениях. Для использования мета-символов как обычных символов их необходимо экранировать (с помощью символа "\").

```
^   [   .
$   {   *
(   \   +
)   |   ?
<   >
```